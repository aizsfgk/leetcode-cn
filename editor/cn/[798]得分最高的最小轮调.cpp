//ç»™ä½ ä¸€ä¸ªæ•°ç»„ numsï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒæŒ‰ä¸€ä¸ªéè´Ÿæ•´æ•° k è¿›è¡Œè½®è°ƒï¼Œè¿™æ ·å¯ä»¥ä½¿æ•°ç»„å˜ä¸º [nums[k], nums[k + 1], ... nums[num
//s.length - 1], nums[0], nums[1], ..., nums[k-1]] çš„å½¢å¼ã€‚æ­¤åï¼Œä»»ä½•å€¼å°äºæˆ–ç­‰äºå…¶ç´¢å¼•çš„é¡¹éƒ½å¯ä»¥è®°ä½œä¸€åˆ†ã€‚ 
//
// 
// ä¾‹å¦‚ï¼Œæ•°ç»„ä¸º nums = [2,4,1,3,0]ï¼Œæˆ‘ä»¬æŒ‰ k = 2 è¿›è¡Œè½®è°ƒåï¼Œå®ƒå°†å˜æˆ [1,3,0,2,4]ã€‚è¿™å°†è®°ä¸º 3 åˆ†ï¼Œå› ä¸º 1 > 0 
//[ä¸è®¡åˆ†]ã€3 > 1 [ä¸è®¡åˆ†]ã€0 <= 2 [è®¡ 1 åˆ†]ã€2 <= 3 [è®¡ 1 åˆ†]ï¼Œ4 <= 4 [è®¡ 1 åˆ†]ã€‚ 
// 
//
// åœ¨æ‰€æœ‰å¯èƒ½çš„è½®è°ƒä¸­ï¼Œè¿”å›æˆ‘ä»¬æ‰€èƒ½å¾—åˆ°çš„æœ€é«˜åˆ†æ•°å¯¹åº”çš„è½®è°ƒä¸‹æ ‡ k ã€‚å¦‚æœæœ‰å¤šä¸ªç­”æ¡ˆï¼Œè¿”å›æ»¡è¶³æ¡ä»¶çš„æœ€å°çš„ä¸‹æ ‡ k ã€‚ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// 
//è¾“å…¥ï¼šnums = [2,3,1,4,0]
//è¾“å‡ºï¼š3
//è§£é‡Šï¼š
//ä¸‹é¢åˆ—å‡ºäº†æ¯ä¸ª k çš„å¾—åˆ†ï¼š
//k = 0,  nums = [2,3,1,4,0],    score 2
//k = 1,  nums = [3,1,4,0,2],    score 3
//k = 2,  nums = [1,4,0,2,3],    score 3
//k = 3,  nums = [4,0,2,3,1],    score 4
//k = 4,  nums = [0,2,3,1,4],    score 3
//æ‰€ä»¥æˆ‘ä»¬åº”å½“é€‰æ‹©Â k = 3ï¼Œå¾—åˆ†æœ€é«˜ã€‚ 
//
// ç¤ºä¾‹ 2ï¼š 
//
// 
//è¾“å…¥ï¼šnums = [1,3,0,2,4]
//è¾“å‡ºï¼š0
//è§£é‡Šï¼š
//nums æ— è®ºæ€ä¹ˆå˜åŒ–æ€»æ˜¯æœ‰ 3 åˆ†ã€‚
//æ‰€ä»¥æˆ‘ä»¬å°†é€‰æ‹©æœ€å°çš„ kï¼Œå³ 0ã€‚
// 
//
// 
//
// æç¤ºï¼š 
//
// 
// 1 <= nums.length <= 105 
// 0 <= nums[i] < nums.length 
// 
// Related Topics æ•°ç»„ å‰ç¼€å’Œ 
// ğŸ‘ 144 ğŸ‘ 0


//leetcode submit region begin(Prohibit modification and deletion)
class Solution {
/*
    æ€è€ƒè¿‡ç¨‹ï¼š
    1. å¸¸è§„æ€è€ƒè¿‡ç¨‹ï¼š
        1. æŠŠæ¯ç§çš„è½®è°ƒæ–¹å¼éƒ½ä¸€ä¸€æšä¸¾å‡ºæ¥ï¼Œç„¶åä¾æ¬¡è®¡ç®—æ¯ç§æƒ…å†µçš„å¾—åˆ† O(n^2) çš„æ—¶é—´å¤æ‚åº¦ï¼›[0-(n-1)]ç§æ–¹æ¡ˆï¼›æ¯ä¸ªæ–¹æ¡ˆéƒ½éœ€è¦éå†ä¸€é
        2. æ€ä¹ˆåˆ†å‰² :
            ä¾‹å¦‚ï¼šk = 1, (i - 1 + n ) % n -> 0 å˜æˆn-1; 1å˜æˆ0 ==> (i-k+n) % n æ˜¯è¯¥æ•°å­—çš„æ–°index
        3.

           int maxS = 0;
           int bestK = 0;
           for (int k=0; k<n; i++) { // 1-(n-1) ç§Kçš„æ–¹æ³•; // ç›¸å½“äºä»kçš„è§’åº¦å‡ºå‘ï¼›n^2çš„æ—¶é—´å¤æ‚åº¦ä¼šè¶…æ—¶
              int score = 0;
              // è®¡ç®—æ¯ä¸ªKçš„åˆ†æ•°
              for (int i=0; i<n; i++) {
                if (nums[(i-k+n)%n] <= i) {
                    score++;
                }
              }
              if (score > maxS) {
                maxS = score;
                bestK = k;
              }
           }
           return bestK;

    2. å·®åˆ†æ•°ç»„è§£æ³•
        1. æ—¢ç„¶ä» k çš„è§’åº¦æ€è€ƒï¼Œä¼šè¶…æ—¶ï¼Œæ˜¯å¦å¯ä»¥ä»åˆ†æ•°çš„è§’åº¦æ€è€ƒå‘¢??? ä»€ä¹ˆæƒ…å†µä¸‹+åˆ†ï¼Œä»€ä¹ˆæƒ…å†µä¸‹-åˆ†ï¼Œé¢‘ç¹çš„å¯¹åŒºé—´+-æ“ä½œ
        è€ƒè™‘ç­‰å·®æ•°ç»„

        åŸºæœ¬æ€§è´¨ï¼š
        a. nums[i] <= (i-k+n) % n  : æ­¤æ—¶å¾—åˆ†
        b. æ–°ä¸‹æ ‡å¿…é¡»å¤„äº[0, n-1]; 0 <= (i-k+n)%n <= n-1
        c. k <= (i - nums[i] +n) % n
        d. (i+1)%nk <= (i+n) % n
        e. i => nums[i] : å–å¾—åŠ åˆ†çš„ä¸€ä¸ªåŒºé—´æ˜¯ï¼š[(i+1)%n, (i-nums[i]+n)%n]

        01234567
        XXXX2XXX

        nums[i] - 1 : ä½ç½®å¼€å§‹0
        ä¹Ÿå°±æ˜¯ç§»åŠ¨å‡ æ­¥ (i - (nums[i] - 1)) ï¼Œå¼€å§‹0

        0æ­¥
        i-(nums[i]-1) æ­¥
        i+1 æ­¥



*/
public:
    int bestRotation(vector<int>& nums) {
        // å·®åˆ†æ•°ç»„
        int n = nums.size();
        vector<int> move(n, 0); // è®°å½•çš„æ˜¯ç§»åŠ¨æ¯ä¸ªä½ç½® å¯¹è®¡åˆ†çš„å˜åŒ–æƒ…å†µ
        // move æ˜¯å·®åˆ†æ•°ç»„


        for (int i=0; i<n; i++) {
            // åˆ†æä¸¤ç§æƒ…å†µ
            if (nums[i] <= i) {
                // nums[i]ä¸€å¼€å§‹åœ¨çš„ä½ç½®å¯ä»¥å¾—åˆ†
                move[0]++; // ä¸ç§»åŠ¨nums[i]å°±äº§ç”Ÿè´¡çŒ®
                move[(i-nums[i] + 1)%n]--; // å·¦ç§» i - nums[i] + 1 åˆ™å·®é¦–æ¬¡ä¸ºæ­£ï¼Œè´¡çŒ®å–æ¶ˆï¼›ç»§ç»­å·¦ç§»ä¹Ÿä¸ä¼šäº§ç”Ÿæ–°è´¡çŒ®
                move[(i+1)%n]++; // ç›´åˆ°ç§»åŠ¨åˆ°åæ ‡å°äº0çš„ä½ç½®ï¼› å˜æˆç§»åŠ¨åˆ°æœ€å³è¾¹ï¼› è´¡çŒ®äº§ç”Ÿ
            } else {
                // ä¸€å¼€å§‹æ‰€åœ¨ä½ç½®ä¸å¯å¾—åˆ†ï¼›å·¦ç§»æ˜¯æ²¡æœ‰ç”¨çš„ï¼›åªæœ‰ç§»åŠ¨åˆ°è¾¹ç•Œæ—¶ï¼Œæ‰ä¼šäº§ç”Ÿå˜åŒ–
                move[(i+1)%n]++;
                // ç»§ç»­å·¦ç§»åŠ¨ï¼›åˆ™ä¼šå†æ¬¡åˆ°è¾¾ å€¼å’Œä¸‹æ ‡ç›¸åŒçš„ä¸´ç•Œç‚¹ï¼› ç»§ç»­å·¦ç§»ä¸€ä½åˆ™å¾—åˆ†å–æ¶ˆ
                move[(n - (nums[i] - i)+1)%n]--;
            }
        }

        int score = 0, maxS = 0, best = 0;
        for (int i=0; i<n; i++) {
            score += move[i];
            if (score > maxS) {
                maxS = score;
                best = i;
            }
        }
        return best;
    }
};
//leetcode submit region end(Prohibit modification and deletion)
